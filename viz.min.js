"use strict";window.renderMultiMaps=function(){var e=[0,35],t=["#f9c280","#dfad71","#c59962","#ab8454","#917045","#775b36","#5e4728"],n={math:"Mathe",german:"Deutsch",english_listen:"Englisch (Hören)",english_read:"Englisch (Lesen)"};d3.json("./data/rvr_districts.topo.json",function(i){var l=topojson.feature(i,i.objects.rvr_districts);d3.csv("./data/data.csv",function(i){d3.playbooks.choroplethMap.defaults({color:t,nullColor:"#ededed",cssNamespace:"multi-map",height:480,width:846,data:i,geoData:l,yExtent:e,getId:function(e){return e.properties.RS},responsiveSvg:!0});var a={},r=function(e,t,n){if(Object.keys(a).filter(function(e){return e!==t}).map(function(e){a[e].hilight(n)}),!e){var i=a[Object.keys(a)[0]].control();i.trigger(riot.EVT.updateInfobox,n),i.trigger(riot.EVT.updateSelector,n)}},o=d3.select("#multi-maps"),s=0;Object.keys(n).map(function(e){var t="multi-maps--"+e;o.append("div").attr("id",t).attr("class","multi-map__container").append("h4").attr("class","multi-map__title").text(n[e]),a[e]=d3.playbooks.choroplethMap({elementId:t,yCol:e+"__risiko_rel"}).render(),s?a[e].control().on(riot.EVT.mouseover,function(t){var n=t.data;return r(!1,e,n)}):(a[e].infobox({element:"#multi-maps-infobox",template:'\n              <h4 class="cor-viz-ls__infobox-title">Anteil der Risikoschüler</h4>\n              <p>in {GEN}</p>\n              <dl class="fixme">\n                <dt>{math__risiko_rel} %</dd>\n                <dd>Mathe</dt>\n                <dt>{german__risiko_rel} %</dd>\n                <dd>Deutsch</dt>\n                <dt>{english_listen__risiko_rel} %</dd>\n                <dd>Englisch (Hören)</dt>\n                <dt>{english_read__risiko_rel} %</dd>\n                <dd>Englisch (Lesen)</dt>\n              </dl>\n              <p class="data--small">Teilnehmer: {participating}</p>\n            '}).legend({wrapperTemplate:'\n                <h4 class="multi-map__legend-title">Anteil in %</h4>\n                <div class="multi-map__legend-items">\n                  {body}\n                </div>',itemTemplate:'<span class="multi-map__legend-item" style="background-color:{color};">{label}</span>',element:"#multi-maps-legend"}).selector({element:"#multi-maps-selector",getLabel:function(e){return e.GEN}}),a[e].control().on(riot.EVT.updateInfobox,function(t){return r(!0,e,t)})),s++})})})};
