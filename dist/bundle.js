!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(2)},function(e,t){"use strict";e.exports={COLORS:["#f9c280","#dfad71","#c59962","#ab8454","#917045","#775b36","#5e4728"],SUBJECTS:{math:"Mathe",german:"Deutsch",english_listen:"Englisch (Hören)",english_read:"Englisch (Lesen)"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),a=r(i),l=n(3),o=r(l);n(5),(0,a.default)(),(0,o.default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(){var e="./data/schulformen.csv",t="multi-bars",n=d3.select("#"+t);d3.csv(e,function(e){var i=["Gymnasium","Hauptschule","Realschule","Schulen des längeren gemeinsamen Lernens"],a=Object.keys(r.SUBJECTS).map(function(e){return r.SUBJECTS[e]});a.splice(0,0,null);var l=function(t){var n=e.filter(function(e){return e.schulform==t});return a.map(function(e){return e?n.find(function(t){return t.fach==e}):e})},o=function(e){var t=Object.keys(e).filter(function(e){return e.indexOf("niveau")>-1&&e.indexOf("6")<0}).sort().reverse();return t.map(function(t){return{y:t,x:e[t]}})};n.append("div").attr("class",t+"__row "+t+"__row--header").selectAll("div").data(a).enter().append("div").attr("class",t+"__cell").classed(t+"__cell--empty",function(e){return!e}).text(function(e){return e}),n.append("div").selectAll("div").data(i).enter().append("div").attr("class",t+"__row "+t+"__row--section").html(function(e){return"<h3>"+e+"</h3>"}).append("div").selectAll("div").data(function(e){return l(e)}).enter().append("div").attr("class",t+"__cell").classed(t+"__cell--chart",function(e){return e}).classed(t+"__cell--empty",function(e){return!e}).append("div").attr("id",function(e){return e&&e.chart_id}),e.map(function(e){d3.playbooks.horizontalBarChart({elementId:e.chart_id,data:o(e),color:function(e){return e.y.indexOf("0")<0&&e.y.indexOf("1")<0?r.COLORS[0]:r.COLORS[3]},barMargin:10,margin:{top:0,right:0,bottom:0,left:0},showXAxis:!1,showYAxis:!1,getXDomain:function(){return[0,75]},responsiveSvg:!0}).render()})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(){var e="./data/data.csv",t="./data/rvr_districts.topo.json",n="multi-maps",i="multi-map",a=846,l=480,o=[0,35],s="risiko_rel";d3.json(t,function(t){var c=topojson.feature(t,t.objects.rvr_districts);d3.csv(e,function(e){d3.playbooks.choroplethMap.defaults({color:r.COLORS,nullColor:"#ededed",cssNamespace:i,height:l,width:a,data:e,geoData:c,yExtent:o,getId:function(e){return e.properties.RS},responsiveSvg:!0});var t={},d=function(e,n,r){if(Object.keys(t).filter(function(e){return e!==n}).map(function(e){t[e].hilight(r)}),!e){var i=t[Object.keys(t)[0]].control();i.trigger(riot.EVT.updateInfobox,r),i.trigger(riot.EVT.updateSelector,r)}},u=d3.select("#"+n),p=0;Object.keys(r.SUBJECTS).map(function(e){var i=n+"--"+e,a=u.append("div").attr("id",i).attr("class","multi-map__container");a.append("h4").attr("class","multi-map__title").text(r.SUBJECTS[e]),t[e]=d3.playbooks.choroplethMap({elementId:i,yCol:e+"__"+s}).render(),p?t[e].control().on(riot.EVT.mouseover,function(t){var n=t.data;return d(!1,e,n)}):(t[e].infobox({element:"#multi-maps-infobox",template:'\n              <h4 class="cor-viz-ls__infobox-title">Anteil der Risikoschüler</h4>\n              <p>in {GEN}</p>\n              <dl class="fixme">\n                <dt>{math__risiko_rel} %</dd>\n                <dd>Mathe</dt>\n                <dt>{german__risiko_rel} %</dd>\n                <dd>Deutsch</dt>\n                <dt>{english_listen__risiko_rel} %</dd>\n                <dd>Englisch (Hören)</dt>\n                <dt>{english_read__risiko_rel} %</dd>\n                <dd>Englisch (Lesen)</dt>\n              </dl>\n              <p class="data--small">Teilnehmer: {participating}</p>\n            '}).legend({wrapperTemplate:'\n                <h4 class="multi-map__legend-title">Anteil in %</h4>\n                <div class="multi-map__legend-items">\n                  {body}\n                </div>',itemTemplate:'<span class="multi-map__legend-item" style="background-color:{color};">{label}</span>',element:"#multi-maps-legend"}).selector({element:"#multi-maps-selector",getLabel:function(e){return e.GEN}}),t[e].control().on(riot.EVT.updateInfobox,function(t){return d(!0,e,t)})),p++})})})}},function(e,t){}]);
//# sourceMappingURL=bundle.js.map