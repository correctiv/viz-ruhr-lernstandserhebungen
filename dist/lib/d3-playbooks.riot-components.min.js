!function(e){function t(n){if(o[n])return o[n].exports;var l=o[n]={exports:{},id:n,loaded:!1};return e[n].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){e.exports=o(9)},function(e,t){e.exports=riot},function(e,t){function o(e){var t;if(2===arguments.length&&"object"==typeof arguments[1])t=arguments[1];else{t=new Array(arguments.length-1);for(var o=1;o<arguments.length;++o)t[o-1]=arguments[o]}return t&&t.hasOwnProperty||(t={}),e.replace(n,function(o,n,l){var r;return"{"===e[l-1]&&"}"===e[l+o.length]?n:(r=t.hasOwnProperty(n)?t[n]:null,null===r||void 0===r?"":r)})}var n=/\{([0-9a-zA-Z_]+)\}/g;e.exports=o},function(e,t,o){(function(e){"use strict";e.tag2("raw-html","","","",function(e){var t=this;this.updateContent=function(){t.root.innerHTML=t.opts.content},this.on("update",function(){t.updateContent()}),this.updateContent()})}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.classList.add("-hilight"),e.parentNode.appendChild(e)}},function(e,t,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n=o(2),l=t(n);o(3),e.tag2("riot-infobox",'<raw-html content="{rawContent}"></raw-html>',"",'class="{opts.className} d3-playbooks__infobox {-empty: empty}"',function(t){var o=this;this.empty=!0,this.opts.control.on(e.EVT.updateInfobox,function(e){o.update({empty:!1,rawContent:(0,l.default)(o.opts.template,e)})}),this.opts.control.on(e.EVT.emptyInfobox,function(){o.update({empty:!0})})})}).call(t,o(1))},function(e,t,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n=o(2),l=t(n);o(3),e.tag2("riot-legend",'<raw-html content="{rawContent}"></raw-html>',"",'class="{opts.className} d3-playbooks__legend"',function(e){var t=this;this.rawContent=(0,l.default)(this.opts.templates.wrapper,{body:this.opts.legendItems.map(function(e){return(0,l.default)(t.opts.templates.item,e)}).join("")})})}).call(t,o(1))},function(e,t,o){(function(e){"use strict";e.tag2("riot-selector",'<select onchange="{hilight}"> <option each="{label, i in labels}" riot-value="{i}" selected="{active === i}">{label}</option> </select>',"",'class="{opts.className} d3-playbooks__selector"',function(t){var o=this;this.active=0,this.data=this.opts.data,this.labels=Object.keys(this.data),this.hilight=function(t){var n=o.labels[t.target.value],l=o.data[n];o.opts.hilight(l),o.opts.control.trigger(e.EVT.updateInfobox,l),o.opts.control.trigger(e.EVT.selectorSelect,l)},this.opts.control.on(e.EVT.updateSelector,function(e){var t=o.labels.indexOf(o.opts.getLabel(e));o.update({active:t})})})}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){d3.playbooks.barChart({elementId:"chart1",data:[["a","c","b"],["1",3,"2"]],mouseout:!1}).render().legend({wrapperTemplate:"<h3>Legend</h3><p>{body}</p>",itemTemplate:"The color for <strong>{label}</strong> is <em>{color}</em>."}).infobox({element:"#my-infobox",template:"<p><strong>Value for {x}:</strong> {y}</p>"}).selector({getLabel:function(e){return e.x+" ("+e.y+")"},sortItems:function(e,t){return t.y-e.y}});d3.playbooks.scatterChart({elementId:"chart2",data:{x:[1,2,3,4,6],y:[2,5,1,1,8]},color:d3.schemeCategory10,getLegendItems:function(e){return e.data.map(function(t){return{label:"Item "+t.x,color:e.getColor(t)}})}}).render().legend().infobox().selector(),d3.playbooks.multiLineChart({elementId:"chart3",dataUrl:"data/multiline.csv",yCols:["y1","y2","y3"]}).render().legend()}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}o(6),o(5),o(7),o(15),o(13);var l=o(8);n(l)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(4),r=n(l),a=o(20),u=n(a);t.default={control:null,hilightNode:r.default,unhilightNode:u.default,mouseout:!0}},function(e,t,o){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(25),r=n(l),a=o(23),u=n(a),i=o(24),s=n(i),c=o(22),d=n(c),f=o(26),p=n(f),b=o(18),g=n(b),m=o(19),h=n(m),y=o(21),_=n(y),v=o(17),x=n(v),C=o(14),S=n(C),T=o(16),M=n(T);t.default={getControl:function(){return e.observable()},addMouseEvents:S.default,initRiotEvents:M.default,getLegendItems:u.default,getLegendTemplates:s.default,mountLegend:function(e,t){return(0,r.default)(e,{tagName:"riot-legend",riotSelector:t.element,cssClass:"legend",opts:{legendItems:e.legendItems,templates:e.legendTemplates}})},getInfoboxTemplate:d.default,mountInfobox:function(e,t){return(0,r.default)(e,{tagName:"riot-infobox",riotSelector:t.element,cssClass:"infobox",opts:{control:e.control,template:e.infoboxTemplate}})},getSelectorData:p.default,mountSelector:function(e,t){return(0,r.default)(e,{tagName:"riot-selector",riotSelector:t.element,cssClass:"selector",opts:{getLabel:t.getLabel?t.getLabel:function(t){return t[e.xCol]},control:e.control,data:e.selectorData,hilight:e.hilight}})},findSelectionForHilight:g.default,hilightSelection:h.default,unhilightSelection:_.default,clearHilight:x.default}}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={init:{control:"getControl",_events:"initRiotEvents"},draw:{_events:"addMouseEvents"},legend:{legendItems:"getLegendItems",legendTemplates:"getLegendTemplates",legendEl:"mountLegend"},infobox:{infoboxTemplate:"getInfoboxTemplate",infoboxEl:"mountInfobox"},selector:{selectorData:"getSelectorData",selectorEl:"mountSelector"},hilight:{_clear:"clearHilight",hilightedSel:"findSelectionForHilight",_hilight:"hilightSelection"},unhilight:{hilightedSel:"unhilightSelection"}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var l=o(11),r=n(l),a=o(10),u=n(a),i=o(12),s=n(i),c=function(e){var t=Object.assign({},r.default,e.plays),o=Object.assign({},u.default,e.defaults);return{plays:t,defaults:o}},d=function(e){Object.assign(e.init,s.default.init),Object.assign(e.draw,s.default.draw),Object.keys(s.default).filter(function(e){return["init","draw"].indexOf(e)===-1}).map(function(t){e[t]=s.default[t]})};d3.playbooks.CHARTS&&(d3.playbooks.CHARTS.baseChart=c(d3.playbooks.CHARTS.baseChart),d(d3.playbooks.TEMPLATE)),d3.playbooks.maps&&(d3.playbooks.maps.MAPS.baseMap=c(d3.playbooks.maps.MAPS.baseMap),d(d3.playbooks.maps.TEMPLATE));var f=["legend","infobox","selector","hilight","unhilight"];d3.playbooks.PUBLIC_METHODS=d3.playbooks.PUBLIC_METHODS.concat(f)},function(e,t,o){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var o=t.drawedSelection,n=t.control;o.on("mouseover",function(t){n.trigger(e.EVT.mouseover,{node:this,data:t})}),o.on("mouseout",function(t){n.trigger(e.EVT.mouseout,{node:this,data:t})})}}).call(t,o(1))},function(e,t,o){(function(e){"use strict";e.EVT={mouseover:"mouseover",mouseout:"mouseout",updateInfobox:"update_infobox",emptyInfobox:"empty_infobox",updateSelector:"update_selector",selectorSelect:"selector_select"}}).call(t,o(1))},function(e,t,o){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){t.control.on(e.EVT.mouseover,function(o){var n=o.node,l=o.data;t.mouseout||t.clearHilight(t),t.hilightedSel?t.unhilight(t):null,t.hilightNode(n),t.control.trigger(e.EVT.updateInfobox,l),t.control.trigger(e.EVT.updateSelector,l)}),t.mouseout&&t.control.on(e.EVT.mouseout,function(o){var n=o.node;o.data;t.unhilightNode(n),t.control.trigger(e.EVT.emptyInfobox)})}}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.drawedSelection;t.classed("-hilight",!1)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o=e.drawedSelection,n=e.xCol,l=void 0;return l="string"==typeof t?function(e){return t===e[n]}:function(e){return t===e},o.select(function(e,t){return l(e)?this:null})}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(4),r=n(l);t.default=function(e){var t=e.hilightedSel;return(0,r.default)(t.node())}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.classList.remove("-hilight")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.hilightedSel;return t?t.classed("-hilight",!1):null,null}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(2),r=n(l),a='\n  <dl class="d3-playbooks__infobox-table">\n    <dt class="d3-playbooks__infobox-label d3-playbooks__infobox-label--{xCol}">{xCol}</dt>\n    <dd class="d3-playbooks__infobox-value d3-playbooks__infobox-value--{xCol}">{xVar}</dd>\n    {yDt}\n  </dl>\n',u='\n  <dt class="d3-playbooks__infobox-label d3-playbooks__infobox-label--{yCol}">{yCol}</dt>\n  <dd class="d3-playbooks__infobox-value d3-playbooks__infobox-value--{yCol}">{yVar}</dd>\n',i=function(e){return"{"+e+"}"},s=function(e){return(0,r.default)(u,{yCol:e,yVar:i(e)})};t.default=function(e,t){var o=e.xCol,n=e.yCol,l=e.yCols,u=t.template;return u?u:(0,r.default)(a,{xCol:o,xVar:i(o),yDt:l?l.map(function(e){return s(e)}).join(""):s(n)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=e.groupCol,l=e.data,r=e.yCol,a=e.yCols,u=e.multiData,i=e.getColor,s=t.labels;if(n){var c=function(){var e=[],t=[];return l.map(function(o){var l=o[n];e.indexOf(l)<0&&(e.push(l),t.push({label:l,color:i(o)}))}),{v:t}}();if("object"===("undefined"==typeof c?"undefined":o(c)))return c.v}else if(a){var d=function(){var e=u.yValues;return{v:a.map(function(t,o){return{label:s?s[t]:t,color:i(e[o])}})}}();if("object"===("undefined"==typeof d?"undefined":o(d)))return d.v}else if(r)return[{label:s?s[r]:r,color:i(l)}]}},function(e,t){"use strict";function o(e){if(null==e)throw new TypeError("Cannot destructure undefined")}Object.defineProperty(t,"__esModule",{value:!0});var n='<ul class="d3-playbooks__legend-list">{body}</ul>',l='<li class="d3-playbooks__legend-item">\n  <span style="background-color:{color};"></span>{label}</li>';t.default=function(e,t){var r=t.wrapperTemplate,a=t.itemTemplate;return o(e),{wrapper:r||n,item:a||l}}},function(e,t,o){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,o){var n=t.cssNamespace,l=t.elementId,r=t.element,a=o.tagName,u=o.riotSelector,i=o.cssClass,s=o.opts,c=void 0===s?{}:s;if(!l&&!u)throw new Error("need `chart.elementId` or `element` for riot components be able to be mounted");var d=n+"__"+(i||a);return u||(u=l+"-"+a,r.append("div").attr("id",u).attr("class",d),u="#"+u),c.className=d,e.mount(u,a,c)[0]}}).call(t,o(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o=e.data,n=e.xCol,l=t.getLabel,r=t.sortItems,a={},u=function(e){return l?l(e):e[n]},i=function(e,t){return e<t?-1:e>t?1:0},s=r?r:function(e,t){return i(u(e),u(t))};return o.sort(s).map(function(e){return a[u(e)]=e}),a}}]);
//# sourceMappingURL=d3-playbooks.riot-components.min.js.map